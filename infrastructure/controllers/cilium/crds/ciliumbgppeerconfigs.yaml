metadata:
  name: ciliumbgppeerconfigs.cilium.io
spec:
  group: cilium.io
  names:
    plural: ciliumbgppeerconfigs
    singular: ciliumbgppeerconfig
    shortNames:
      - cbgppeer
    kind: CiliumBGPPeerConfig
    listKind: CiliumBGPPeerConfigList
    categories:
      - cilium
      - ciliumbgp
  scope: Cluster
  versions:
    - name: v2
      served: true
      storage: true
      schema:
        openAPIV3Schema:
          type: object
          required:
            - metadata
            - spec
          properties:
            apiVersion:
              description: >-
                APIVersion defines the versioned schema of this representation
                of an object.

                Servers should convert recognized schemas to the latest internal
                value, and

                may reject unrecognized values.

                More info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: >-
                Kind is a string value representing the REST resource this
                object represents.

                Servers may infer this from the endpoint the client submits
                requests to.

                Cannot be updated.

                In CamelCase.

                More info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: >-
                Spec is the specification of the desired behavior of the
                CiliumBGPPeerConfig.
              type: object
              properties:
                authSecretRef:
                  description: >-
                    AuthSecretRef is the name of the secret to use to fetch a
                    TCP

                    authentication password for this peer.


                    If not specified, no authentication is used.
                  type: string
                ebgpMultihop:
                  description: >-
                    EBGPMultihopTTL controls the multi-hop feature for eBGP
                    peers.

                    Its value defines the Time To Live (TTL) value used in BGP

                    packets sent to the peer.


                    If not specified, EBGP multihop is disabled. This field is
                    ignored for iBGP neighbors.
                  type: integer
                  format: int32
                  default: 1
                  maximum: 255
                  minimum: 1
                families:
                  description: >-
                    Families, if provided, defines a set of AFI/SAFIs the
                    speaker will

                    negotiate with it's peer.


                    If not specified, the default families of IPv6/unicast and
                    IPv4/unicast will be created.
                  type: array
                  items:
                    description: >-
                      CiliumBGPFamilyWithAdverts represents a AFI/SAFI address
                      family pair along with reference to BGP Advertisements.
                    type: object
                    required:
                      - afi
                      - safi
                    properties:
                      advertisements:
                        description: >-
                          Advertisements selects group of BGP Advertisement(s)
                          to advertise for this family.


                          If not specified, no advertisements are sent for this
                          family.


                          This field is ignored in CiliumBGPNeighbor which is
                          used in CiliumBGPPeeringPolicy.

                          Use CiliumBGPPeeringPolicy advertisement options
                          instead.
                        type: object
                        properties:
                          matchExpressions:
                            description: >-
                              matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            type: array
                            items:
                              description: >-
                                A label selector requirement is a selector that
                                contains values, a key, and an operator that

                                relates the key and values.
                              type: object
                              required:
                                - key
                                - operator
                              properties:
                                key:
                                  description: >-
                                    key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: >-
                                    operator represents a key's relationship to
                                    a set of values.

                                    Valid operators are In, NotIn, Exists and
                                    DoesNotExist.
                                  type: string
                                  enum:
                                    - In
                                    - NotIn
                                    - Exists
                                    - DoesNotExist
                                values:
                                  description: >-
                                    values is an array of string values. If the
                                    operator is In or NotIn,

                                    the values array must be non-empty. If the
                                    operator is Exists or DoesNotExist,

                                    the values array must be empty. This array
                                    is replaced during a strategic

                                    merge patch.
                                  type: array
                                  items:
                                    type: string
                                  x-kubernetes-list-type: atomic
                            x-kubernetes-list-type: atomic
                          matchLabels:
                            description: >-
                              matchLabels is a map of {key,value} pairs. A
                              single {key,value} in the matchLabels

                              map is equivalent to an element of
                              matchExpressions, whose key field is "key", the

                              operator is "In", and the values array contains
                              only "value". The requirements are ANDed.
                            type: object
                            additionalProperties:
                              description: >-
                                MatchLabelsValue represents the value from the
                                MatchLabels {key,value} pair.
                              type: string
                              maxLength: 63
                              pattern: ^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$
                        x-kubernetes-map-type: atomic
                      afi:
                        description: >-
                          Afi is the Address Family Identifier (AFI) of the
                          family.
                        type: string
                        enum:
                          - ipv4
                          - ipv6
                          - l2vpn
                          - ls
                          - opaque
                      safi:
                        description: >-
                          Safi is the Subsequent Address Family Identifier
                          (SAFI) of the family.
                        type: string
                        enum:
                          - unicast
                          - multicast
                          - mpls_label
                          - encapsulation
                          - vpls
                          - evpn
                          - ls
                          - sr_policy
                          - mup
                          - mpls_vpn
                          - mpls_vpn_multicast
                          - route_target_constraints
                          - flowspec_unicast
                          - flowspec_vpn
                          - key_value
                gracefulRestart:
                  description: >-
                    GracefulRestart defines graceful restart parameters which
                    are negotiated

                    with this peer.


                    If not specified, the graceful restart capability is
                    disabled.
                  type: object
                  required:
                    - enabled
                  properties:
                    enabled:
                      description: >-
                        Enabled flag, when set enables graceful restart
                        capability.
                      type: boolean
                    restartTimeSeconds:
                      description: >-
                        RestartTimeSeconds is the estimated time it will take
                        for the BGP

                        session to be re-established with peer after a restart.

                        After this period, peer will remove stale routes. This
                        is

                        described RFC 4724 section 4.2.
                      type: integer
                      format: int32
                      default: 120
                      maximum: 4095
                      minimum: 1
                timers:
                  description: |-
                    Timers defines the BGP timers for the peer.

                    If not specified, the default timers are used.
                  type: object
                  properties:
                    connectRetryTimeSeconds:
                      description: >-
                        ConnectRetryTimeSeconds defines the initial value for
                        the BGP ConnectRetryTimer (RFC 4271, Section 8).


                        If not specified, defaults to 120 seconds.
                      type: integer
                      format: int32
                      default: 120
                      maximum: 2147483647
                      minimum: 1
                    holdTimeSeconds:
                      description: >-
                        HoldTimeSeconds defines the initial value for the BGP
                        HoldTimer (RFC 4271, Section 4.2).

                        Updating this value will cause a session reset.


                        If not specified, defaults to 90 seconds.
                      type: integer
                      format: int32
                      default: 90
                      maximum: 65535
                      minimum: 3
                    keepAliveTimeSeconds:
                      description: >-
                        KeepaliveTimeSeconds defines the initial value for the
                        BGP KeepaliveTimer (RFC 4271, Section 8).

                        It can not be larger than HoldTimeSeconds. Updating this
                        value will cause a session reset.


                        If not specified, defaults to 30 seconds.
                      type: integer
                      format: int32
                      default: 30
                      maximum: 65535
                      minimum: 1
                  x-kubernetes-validations:
                    - rule: self.keepAliveTimeSeconds <= self.holdTimeSeconds
                      message: >-
                        keepAliveTimeSeconds can not be larger than
                        holdTimeSeconds
                transport:
                  description: |-
                    Transport defines the BGP transport parameters for the peer.

                    If not specified, the default transport parameters are used.
                  type: object
                  properties:
                    peerPort:
                      description: >-
                        PeerPort is the peer port to be used for the BGP
                        session.


                        If not specified, defaults to TCP port 179.
                      type: integer
                      format: int32
                      default: 179
                      maximum: 65535
                      minimum: 1
            status:
              description: Status is the running status of the CiliumBGPPeerConfig
              type: object
              properties:
                conditions:
                  description: The current conditions of the CiliumBGPPeerConfig
                  type: array
                  items:
                    description: >-
                      Condition contains details for one aspect of the current
                      state of this API Resource.
                    type: object
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    properties:
                      lastTransitionTime:
                        description: >-
                          lastTransitionTime is the last time the condition
                          transitioned from one status to another.

                          This should be when the underlying condition changed. 
                          If that is not known, then using the time when the API
                          field changed is acceptable.
                        type: string
                        format: date-time
                      message:
                        description: >-
                          message is a human readable message indicating details
                          about the transition.

                          This may be an empty string.
                        type: string
                        maxLength: 32768
                      observedGeneration:
                        description: >-
                          observedGeneration represents the .metadata.generation
                          that the condition was set based upon.

                          For instance, if .metadata.generation is currently 12,
                          but the .status.conditions[x].observedGeneration is 9,
                          the condition is out of date

                          with respect to the current state of the instance.
                        type: integer
                        format: int64
                        minimum: 0
                      reason:
                        description: >-
                          reason contains a programmatic identifier indicating
                          the reason for the condition's last transition.

                          Producers of specific condition types may define
                          expected values and meanings for this field,

                          and whether the values are considered a guaranteed
                          API.

                          The value should be a CamelCase string.

                          This field may not be empty.
                        type: string
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      status:
                        description: status of the condition, one of True, False, Unknown.
                        type: string
                        enum:
                          - 'True'
                          - 'False'
                          - Unknown
                      type:
                        description: >-
                          type of condition in CamelCase or in
                          foo.example.com/CamelCase.
                        type: string
                        maxLength: 316
                        pattern: >-
                          ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
      subresources:
        status: {}
      additionalPrinterColumns:
        - name: Age
          type: date
          jsonPath: .metadata.creationTimestamp
    - name: v2alpha1
      served: true
      storage: false
      deprecated: true
      schema:
        openAPIV3Schema:
          type: object
          required:
            - metadata
            - spec
          properties:
            apiVersion:
              description: >-
                APIVersion defines the versioned schema of this representation
                of an object.

                Servers should convert recognized schemas to the latest internal
                value, and

                may reject unrecognized values.

                More info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: >-
                Kind is a string value representing the REST resource this
                object represents.

                Servers may infer this from the endpoint the client submits
                requests to.

                Cannot be updated.

                In CamelCase.

                More info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: >-
                Spec is the specification of the desired behavior of the
                CiliumBGPPeerConfig.
              type: object
              properties:
                authSecretRef:
                  description: >-
                    AuthSecretRef is the name of the secret to use to fetch a
                    TCP

                    authentication password for this peer.


                    If not specified, no authentication is used.
                  type: string
                ebgpMultihop:
                  description: >-
                    EBGPMultihopTTL controls the multi-hop feature for eBGP
                    peers.

                    Its value defines the Time To Live (TTL) value used in BGP

                    packets sent to the peer.


                    If not specified, EBGP multihop is disabled. This field is
                    ignored for iBGP neighbors.
                  type: integer
                  format: int32
                  default: 1
                  maximum: 255
                  minimum: 1
                families:
                  description: >-
                    Families, if provided, defines a set of AFI/SAFIs the
                    speaker will

                    negotiate with it's peer.


                    If not specified, the default families of IPv6/unicast and
                    IPv4/unicast will be created.
                  type: array
                  items:
                    description: >-
                      CiliumBGPFamilyWithAdverts represents a AFI/SAFI address
                      family pair along with reference to BGP Advertisements.
                    type: object
                    required:
                      - afi
                      - safi
                    properties:
                      advertisements:
                        description: >-
                          Advertisements selects group of BGP Advertisement(s)
                          to advertise for this family.


                          If not specified, no advertisements are sent for this
                          family.


                          This field is ignored in CiliumBGPNeighbor which is
                          used in CiliumBGPPeeringPolicy.

                          Use CiliumBGPPeeringPolicy advertisement options
                          instead.
                        type: object
                        properties:
                          matchExpressions:
                            description: >-
                              matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            type: array
                            items:
                              description: >-
                                A label selector requirement is a selector that
                                contains values, a key, and an operator that

                                relates the key and values.
                              type: object
                              required:
                                - key
                                - operator
                              properties:
                                key:
                                  description: >-
                                    key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: >-
                                    operator represents a key's relationship to
                                    a set of values.

                                    Valid operators are In, NotIn, Exists and
                                    DoesNotExist.
                                  type: string
                                  enum:
                                    - In
                                    - NotIn
                                    - Exists
                                    - DoesNotExist
                                values:
                                  description: >-
                                    values is an array of string values. If the
                                    operator is In or NotIn,

                                    the values array must be non-empty. If the
                                    operator is Exists or DoesNotExist,

                                    the values array must be empty. This array
                                    is replaced during a strategic

                                    merge patch.
                                  type: array
                                  items:
                                    type: string
                                  x-kubernetes-list-type: atomic
                            x-kubernetes-list-type: atomic
                          matchLabels:
                            description: >-
                              matchLabels is a map of {key,value} pairs. A
                              single {key,value} in the matchLabels

                              map is equivalent to an element of
                              matchExpressions, whose key field is "key", the

                              operator is "In", and the values array contains
                              only "value". The requirements are ANDed.
                            type: object
                            additionalProperties:
                              description: >-
                                MatchLabelsValue represents the value from the
                                MatchLabels {key,value} pair.
                              type: string
                              maxLength: 63
                              pattern: ^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$
                        x-kubernetes-map-type: atomic
                      afi:
                        description: >-
                          Afi is the Address Family Identifier (AFI) of the
                          family.
                        type: string
                        enum:
                          - ipv4
                          - ipv6
                          - l2vpn
                          - ls
                          - opaque
                      safi:
                        description: >-
                          Safi is the Subsequent Address Family Identifier
                          (SAFI) of the family.
                        type: string
                        enum:
                          - unicast
                          - multicast
                          - mpls_label
                          - encapsulation
                          - vpls
                          - evpn
                          - ls
                          - sr_policy
                          - mup
                          - mpls_vpn
                          - mpls_vpn_multicast
                          - route_target_constraints
                          - flowspec_unicast
                          - flowspec_vpn
                          - key_value
                gracefulRestart:
                  description: >-
                    GracefulRestart defines graceful restart parameters which
                    are negotiated

                    with this peer.


                    If not specified, the graceful restart capability is
                    disabled.
                  type: object
                  required:
                    - enabled
                  properties:
                    enabled:
                      description: >-
                        Enabled flag, when set enables graceful restart
                        capability.
                      type: boolean
                    restartTimeSeconds:
                      description: >-
                        RestartTimeSeconds is the estimated time it will take
                        for the BGP

                        session to be re-established with peer after a restart.

                        After this period, peer will remove stale routes. This
                        is

                        described RFC 4724 section 4.2.
                      type: integer
                      format: int32
                      default: 120
                      maximum: 4095
                      minimum: 1
                timers:
                  description: |-
                    Timers defines the BGP timers for the peer.

                    If not specified, the default timers are used.
                  type: object
                  properties:
                    connectRetryTimeSeconds:
                      description: >-
                        ConnectRetryTimeSeconds defines the initial value for
                        the BGP ConnectRetryTimer (RFC 4271, Section 8).


                        If not specified, defaults to 120 seconds.
                      type: integer
                      format: int32
                      default: 120
                      maximum: 2147483647
                      minimum: 1
                    holdTimeSeconds:
                      description: >-
                        HoldTimeSeconds defines the initial value for the BGP
                        HoldTimer (RFC 4271, Section 4.2).

                        Updating this value will cause a session reset.


                        If not specified, defaults to 90 seconds.
                      type: integer
                      format: int32
                      default: 90
                      maximum: 65535
                      minimum: 3
                    keepAliveTimeSeconds:
                      description: >-
                        KeepaliveTimeSeconds defines the initial value for the
                        BGP KeepaliveTimer (RFC 4271, Section 8).

                        It can not be larger than HoldTimeSeconds. Updating this
                        value will cause a session reset.


                        If not specified, defaults to 30 seconds.
                      type: integer
                      format: int32
                      default: 30
                      maximum: 65535
                      minimum: 1
                  x-kubernetes-validations:
                    - rule: self.keepAliveTimeSeconds <= self.holdTimeSeconds
                      message: >-
                        keepAliveTimeSeconds can not be larger than
                        holdTimeSeconds
                transport:
                  description: |-
                    Transport defines the BGP transport parameters for the peer.

                    If not specified, the default transport parameters are used.
                  type: object
                  properties:
                    localPort:
                      description: >-
                        Deprecated

                        LocalPort is the local port to be used for the BGP
                        session.


                        If not specified, ephemeral port will be picked to
                        initiate a connection.


                        This field is deprecated and will be removed in a future
                        release.

                        Local port configuration is unnecessary and is not
                        recommended.
                      type: integer
                      format: int32
                      maximum: 65535
                      minimum: 1
                    peerPort:
                      description: >-
                        PeerPort is the peer port to be used for the BGP
                        session.


                        If not specified, defaults to TCP port 179.
                      type: integer
                      format: int32
                      default: 179
                      maximum: 65535
                      minimum: 1
            status:
              description: Status is the running status of the CiliumBGPPeerConfig
              type: object
              properties:
                conditions:
                  description: The current conditions of the CiliumBGPPeerConfig
                  type: array
                  items:
                    description: >-
                      Condition contains details for one aspect of the current
                      state of this API Resource.
                    type: object
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    properties:
                      lastTransitionTime:
                        description: >-
                          lastTransitionTime is the last time the condition
                          transitioned from one status to another.

                          This should be when the underlying condition changed. 
                          If that is not known, then using the time when the API
                          field changed is acceptable.
                        type: string
                        format: date-time
                      message:
                        description: >-
                          message is a human readable message indicating details
                          about the transition.

                          This may be an empty string.
                        type: string
                        maxLength: 32768
                      observedGeneration:
                        description: >-
                          observedGeneration represents the .metadata.generation
                          that the condition was set based upon.

                          For instance, if .metadata.generation is currently 12,
                          but the .status.conditions[x].observedGeneration is 9,
                          the condition is out of date

                          with respect to the current state of the instance.
                        type: integer
                        format: int64
                        minimum: 0
                      reason:
                        description: >-
                          reason contains a programmatic identifier indicating
                          the reason for the condition's last transition.

                          Producers of specific condition types may define
                          expected values and meanings for this field,

                          and whether the values are considered a guaranteed
                          API.

                          The value should be a CamelCase string.

                          This field may not be empty.
                        type: string
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      status:
                        description: status of the condition, one of True, False, Unknown.
                        type: string
                        enum:
                          - 'True'
                          - 'False'
                          - Unknown
                      type:
                        description: >-
                          type of condition in CamelCase or in
                          foo.example.com/CamelCase.
                        type: string
                        maxLength: 316
                        pattern: >-
                          ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                  x-kubernetes-list-map-keys:
                    - type
                  x-kubernetes-list-type: map
      subresources:
        status: {}
      additionalPrinterColumns:
        - name: Age
          type: date
          jsonPath: .metadata.creationTimestamp
  conversion:
    strategy: None
status:
  conditions:
    - type: NamesAccepted
      status: 'True'
      lastTransitionTime: '2025-06-17T01:15:29Z'
      reason: NoConflicts
      message: no conflicts found
    - type: Established
      status: 'True'
      lastTransitionTime: '2025-06-17T01:15:29Z'
      reason: InitialNamesAccepted
      message: the initial names have been accepted
  acceptedNames:
    plural: ciliumbgppeerconfigs
    singular: ciliumbgppeerconfig
    shortNames:
      - cbgppeer
    kind: CiliumBGPPeerConfig
    listKind: CiliumBGPPeerConfigList
    categories:
      - cilium
      - ciliumbgp
  storedVersions:
    - v2alpha1
    - v2
kind: CustomResourceDefinition
apiVersion: apiextensions.k8s.io/v1
