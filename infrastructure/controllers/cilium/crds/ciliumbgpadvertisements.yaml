kind: CustomResourceDefinition
apiVersion: apiextensions.k8s.io/v1
metadata:
  name: ciliumbgpadvertisements.cilium.io
  uid: 47e58cee-24c8-4f72-855f-efaaabdd1aa7
  resourceVersion: '944771'
  generation: 1
  creationTimestamp: '2025-06-17T01:15:27Z'
  labels:
    io.cilium.k8s.crd.schema.version: 1.30.8
  managedFields:
    - manager: cilium-operator-generic
      operation: Update
      apiVersion: apiextensions.k8s.io/v1
      time: '2025-06-17T01:15:27Z'
      fieldsType: FieldsV1
      fieldsV1:
        f:metadata:
          f:labels:
            .: {}
            f:io.cilium.k8s.crd.schema.version: {}
        f:spec:
          f:conversion:
            .: {}
            f:strategy: {}
          f:group: {}
          f:names:
            f:categories: {}
            f:kind: {}
            f:listKind: {}
            f:plural: {}
            f:shortNames: {}
            f:singular: {}
          f:scope: {}
          f:versions: {}
    - manager: kube-apiserver
      operation: Update
      apiVersion: apiextensions.k8s.io/v1
      time: '2025-06-17T01:15:28Z'
      fieldsType: FieldsV1
      fieldsV1:
        f:status:
          f:acceptedNames:
            f:categories: {}
            f:kind: {}
            f:listKind: {}
            f:plural: {}
            f:shortNames: {}
            f:singular: {}
          f:conditions:
            k:{"type":"Established"}:
              .: {}
              f:lastTransitionTime: {}
              f:message: {}
              f:reason: {}
              f:status: {}
              f:type: {}
            k:{"type":"NamesAccepted"}:
              .: {}
              f:lastTransitionTime: {}
              f:message: {}
              f:reason: {}
              f:status: {}
              f:type: {}
      subresource: status
spec:
  group: cilium.io
  names:
    plural: ciliumbgpadvertisements
    singular: ciliumbgpadvertisement
    shortNames:
      - cbgpadvert
    kind: CiliumBGPAdvertisement
    listKind: CiliumBGPAdvertisementList
    categories:
      - cilium
      - ciliumbgp
  scope: Cluster
  versions:
    - name: v2alpha1
      served: true
      storage: true
      schema:
        openAPIV3Schema:
          description: >-
            CiliumBGPAdvertisement is the Schema for the ciliumbgpadvertisements
            API
          type: object
          required:
            - metadata
            - spec
          properties:
            apiVersion:
              description: >-
                APIVersion defines the versioned schema of this representation
                of an object.

                Servers should convert recognized schemas to the latest internal
                value, and

                may reject unrecognized values.

                More info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: >-
                Kind is a string value representing the REST resource this
                object represents.

                Servers may infer this from the endpoint the client submits
                requests to.

                Cannot be updated.

                In CamelCase.

                More info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              type: object
              required:
                - advertisements
              properties:
                advertisements:
                  description: Advertisements is a list of BGP advertisements.
                  type: array
                  items:
                    description: >-
                      BGPAdvertisement defines which routes Cilium should
                      advertise to BGP peers. Optionally, additional attributes
                      can be

                      set to the advertised routes.
                    type: object
                    required:
                      - advertisementType
                    properties:
                      advertisementType:
                        description: >-
                          AdvertisementType defines type of advertisement which
                          has to be advertised.
                        type: string
                        enum:
                          - PodCIDR
                          - CiliumPodIPPool
                          - Service
                      attributes:
                        description: >-
                          Attributes defines additional attributes to set to the
                          advertised routes.

                          If not specified, no additional attributes are set.
                        type: object
                        properties:
                          communities:
                            description: >-
                              Communities sets the community attributes in the
                              route.

                              If not specified, no community attribute is set.
                            type: object
                            properties:
                              large:
                                description: >-
                                  Large holds a list of the BGP Large
                                  Communities Attribute (RFC 8092) values.
                                type: array
                                items:
                                  description: >-
                                    BGPLargeCommunity type represents a value of
                                    the BGP Large Communities Attribute (RFC
                                    8092),

                                    as three 4-byte decimal numbers separated by
                                    colons.
                                  type: string
                                  pattern: >-
                                    ^([0-9]|[1-9][0-9]{1,8}|[1-3][0-9]{9}|4[01][0-9]{8}|42[0-8][0-9]{7}|429[0-3][0-9]{6}|4294[0-8][0-9]{5}|42949[0-5][0-9]{4}|429496[0-6][0-9]{3}|4294967[01][0-9]{2}|42949672[0-8][0-9]|429496729[0-5]):([0-9]|[1-9][0-9]{1,8}|[1-3][0-9]{9}|4[01][0-9]{8}|42[0-8][0-9]{7}|429[0-3][0-9]{6}|4294[0-8][0-9]{5}|42949[0-5][0-9]{4}|429496[0-6][0-9]{3}|4294967[01][0-9]{2}|42949672[0-8][0-9]|429496729[0-5]):([0-9]|[1-9][0-9]{1,8}|[1-3][0-9]{9}|4[01][0-9]{8}|42[0-8][0-9]{7}|429[0-3][0-9]{6}|4294[0-8][0-9]{5}|42949[0-5][0-9]{4}|429496[0-6][0-9]{3}|4294967[01][0-9]{2}|42949672[0-8][0-9]|429496729[0-5])$
                              standard:
                                description: >-
                                  Standard holds a list of "standard" 32-bit BGP
                                  Communities Attribute (RFC 1997) values
                                  defined as numeric values.
                                type: array
                                items:
                                  description: >-
                                    BGPStandardCommunity type represents a value
                                    of the "standard" 32-bit BGP Communities
                                    Attribute (RFC 1997)

                                    as a 4-byte decimal number or two 2-byte
                                    decimal numbers separated by a colon
                                    (<0-65535>:<0-65535>).

                                    For example, no-export community value is
                                    65553:65281.
                                  type: string
                                  pattern: >-
                                    ^([0-9]|[1-9][0-9]{1,8}|[1-3][0-9]{9}|4[01][0-9]{8}|42[0-8][0-9]{7}|429[0-3][0-9]{6}|4294[0-8][0-9]{5}|42949[0-5][0-9]{4}|429496[0-6][0-9]{3}|4294967[01][0-9]{2}|42949672[0-8][0-9]|429496729[0-5])$|^([0-9]|[1-9][0-9]{1,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5]):([0-9]|[1-9][0-9]{1,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$
                              wellKnown:
                                description: >-
                                  WellKnown holds a list "standard" 32-bit BGP
                                  Communities Attribute (RFC 1997) values
                                  defined as

                                  well-known string aliases to their numeric
                                  values.
                                type: array
                                items:
                                  description: "BGPWellKnownCommunity type represents a value of the \"standard\" 32-bit BGP Communities Attribute (RFC 1997)\nas a well-known string alias to its numeric value. Allowed values and their mapping to the numeric values:\n\n\tinternet                   = 0x00000000 (0:0)\n\tplanned-shut               = 0xffff0000 (65535:0)\n\taccept-own                 = 0xffff0001 (65535:1)\n\troute-filter-translated-v4 = 0xffff0002 (65535:2)\n\troute-filter-v4            = 0xffff0003 (65535:3)\n\troute-filter-translated-v6 = 0xffff0004 (65535:4)\n\troute-filter-v6            = 0xffff0005 (65535:5)\n\tllgr-stale                 = 0xffff0006 (65535:6)\n\tno-llgr                    = 0xffff0007 (65535:7)\n\tblackhole                  = 0xffff029a (65535:666)\n\tno-export                  = 0xffffff01\t(65535:65281)\n\tno-advertise               = 0xffffff02 (65535:65282)\n\tno-export-subconfed        = 0xffffff03 (65535:65283)\n\tno-peer                    = 0xffffff04 (65535:65284)"
                                  type: string
                                  enum:
                                    - internet
                                    - planned-shut
                                    - accept-own
                                    - route-filter-translated-v4
                                    - route-filter-v4
                                    - route-filter-translated-v6
                                    - route-filter-v6
                                    - llgr-stale
                                    - no-llgr
                                    - blackhole
                                    - no-export
                                    - no-advertise
                                    - no-export-subconfed
                                    - no-peer
                          localPreference:
                            description: >-
                              LocalPreference sets the local preference
                              attribute in the route.

                              If not specified, no local preference attribute is
                              set.
                            type: integer
                            format: int64
                      selector:
                        description: >-
                          Selector is a label selector to select objects of the
                          type specified by AdvertisementType.

                          If not specified, no objects of the type specified by
                          AdvertisementType are selected for advertisement.
                        type: object
                        properties:
                          matchExpressions:
                            description: >-
                              matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            type: array
                            items:
                              description: >-
                                A label selector requirement is a selector that
                                contains values, a key, and an operator that

                                relates the key and values.
                              type: object
                              required:
                                - key
                                - operator
                              properties:
                                key:
                                  description: >-
                                    key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: >-
                                    operator represents a key's relationship to
                                    a set of values.

                                    Valid operators are In, NotIn, Exists and
                                    DoesNotExist.
                                  type: string
                                  enum:
                                    - In
                                    - NotIn
                                    - Exists
                                    - DoesNotExist
                                values:
                                  description: >-
                                    values is an array of string values. If the
                                    operator is In or NotIn,

                                    the values array must be non-empty. If the
                                    operator is Exists or DoesNotExist,

                                    the values array must be empty. This array
                                    is replaced during a strategic

                                    merge patch.
                                  type: array
                                  items:
                                    type: string
                                  x-kubernetes-list-type: atomic
                            x-kubernetes-list-type: atomic
                          matchLabels:
                            description: >-
                              matchLabels is a map of {key,value} pairs. A
                              single {key,value} in the matchLabels

                              map is equivalent to an element of
                              matchExpressions, whose key field is "key", the

                              operator is "In", and the values array contains
                              only "value". The requirements are ANDed.
                            type: object
                            additionalProperties:
                              description: >-
                                MatchLabelsValue represents the value from the
                                MatchLabels {key,value} pair.
                              type: string
                              maxLength: 63
                              pattern: ^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$
                        x-kubernetes-map-type: atomic
                      service:
                        description: >-
                          Service defines configuration options for
                          advertisementType service.
                        type: object
                        required:
                          - addresses
                        properties:
                          addresses:
                            description: >-
                              Addresses is a list of service address types which
                              needs to be advertised via BGP.
                            type: array
                            minItems: 1
                            items:
                              description: >-
                                BGPServiceAddressType defines type of service
                                address to be advertised.


                                Note list of supported service addresses is not
                                exhaustive and can be extended in the future.

                                Consumer of this API should be able to handle
                                unknown values.
                              type: string
                              enum:
                                - LoadBalancerIP
                                - ClusterIP
                                - ExternalIP
      subresources: {}
      additionalPrinterColumns:
        - name: Age
          type: date
          jsonPath: .metadata.creationTimestamp
  conversion:
    strategy: None
status:
  conditions:
    - type: NamesAccepted
      status: 'True'
      lastTransitionTime: '2025-06-17T01:15:28Z'
      reason: NoConflicts
      message: no conflicts found
    - type: Established
      status: 'True'
      lastTransitionTime: '2025-06-17T01:15:28Z'
      reason: InitialNamesAccepted
      message: the initial names have been accepted
  acceptedNames:
    plural: ciliumbgpadvertisements
    singular: ciliumbgpadvertisement
    shortNames:
      - cbgpadvert
    kind: CiliumBGPAdvertisement
    listKind: CiliumBGPAdvertisementList
    categories:
      - cilium
      - ciliumbgp
  storedVersions:
    - v2alpha1
