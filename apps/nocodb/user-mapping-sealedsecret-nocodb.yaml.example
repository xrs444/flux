---
# Example SealedSecret for user mapping
#
# To create the actual sealed secret:
#
# 1. Create a temporary plain secret file:
cat > /tmp/user-mapping-secret.yaml <<EOF
apiVersion: v1
kind: Secret
  metadata:
    name: nocodb-user-mapping
    namespace: nocodb
    type: Opaque
    stringData:
      mapping: |
        {
          "xrs444": {
            "email": "xrs444@xrs444.net",
            "password": "password"
          },
          "samantha": {
            "email": "samantha@xrs444.net",
            "password": "password"
          }
        }
    EOF
#
# 2. Seal it with kubeseal:
    kubeseal --format=yaml \
      --controller-name=sealed-secrets \
      --controller-namespace=sealed-secrets \
      < /tmp/user-mapping-secret.yaml \
      > apps/nocodb/user-mapping-sealedsecret-nocodb.yaml
#
# 3. Clean up the temporary file:
#    rm /tmp/user-mapping-secret.yaml
#
# 4. Uncomment the resource in kustomization.yaml:
#    - user-mapping-sealedsecret-nocodb.yaml
#
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: nocodb-user-mapping
  namespace: nocodb
spec:
  encryptedData:
    mapping: REPLACE_WITH_SEALED_DATA
  template:
    metadata:
      name: nocodb-user-mapping
      namespace: nocodb
    type: Opaque
