# yamllint disable rule:line-length
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: diode-agent-config
  namespace: diode-agent
data:
  # Diode Server connection (via ingress-nginx controller in netbox namespace)
  DIODE_TARGET: "grpc://diode-ingress-nginx-controller.netbox.svc.cluster.local:80/diode"

  # Discovery settings (LLDP/SSH skipped for now)
  DISCOVERY_ENABLED_METHODS: "snmp,nmap,kubernetes"

  # Network scanning ranges (all /24)
  NETWORK_SCAN_RANGES: "172.18.4.0/24,172.18.5.0/24,172.18.6.0/24,172.18.7.0/24,172.18.9.0/24,172.18.10.0/24,172.18.11.0/24,172.18.100.0/24,172.19.111.0/24,172.19.112.0/24,172.19.113.0/24,172.19.114.0/24,172.20.1.0/24,172.20.2.0/24,172.20.3.0/24,172.20.4.0/24,172.25.1.0/24,172.25.2.0/24,172.25.4.0/24,172.25.5.0/24,192.168.0.0/24,192.168.1.0/24,192.168.6.0/24"

  # SNMP settings
  SNMP_VERSION: "2c"
  SNMP_PORT: "161"
  SNMP_TIMEOUT: "5"
  SNMP_RETRIES: "2"

  # Kubernetes discovery settings
  K8S_DISCOVERY_ENABLED: "true"
  K8S_NODE_DEVICE_ROLE: "server"
  K8S_NODE_SITE: "homelab"

  # Logging
  LOG_LEVEL: "info"

  # Device defaults for discovered items
  DEFAULT_SITE: "homelab"
  DEFAULT_DEVICE_ROLE: "network-device"
