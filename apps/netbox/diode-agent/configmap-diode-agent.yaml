# yamllint disable rule:line-length
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: diode-agent-config
  namespace: diode-agent
data:
  # Diode Server connection (via ingress-nginx controller in netbox namespace)
  DIODE_TARGET: "grpc://diode-ingress-nginx-controller.netbox.svc.cluster.local:80/diode"

  # Discovery settings (LLDP/SSH skipped for now)
  DISCOVERY_ENABLED_METHODS: "snmp,nmap,kubernetes"

  # Network scanning ranges
  NETWORK_SCAN_RANGES: "172.18.0.0/16,172.19.0.0/16,172.20.0.0/16,172.21.0.0/16,192.168.0.0/16"

  # SNMP settings
  SNMP_VERSION: "2c"
  SNMP_PORT: "161"
  SNMP_TIMEOUT: "5"
  SNMP_RETRIES: "2"

  # Kubernetes discovery settings
  K8S_DISCOVERY_ENABLED: "true"
  K8S_NODE_DEVICE_ROLE: "server"
  K8S_NODE_SITE: "homelab"

  # Logging
  LOG_LEVEL: "info"

  # Device defaults for discovered items
  DEFAULT_SITE: "homelab"
  DEFAULT_DEVICE_ROLE: "network-device"
