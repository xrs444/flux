# Kustomize configuration for all HomeProd applications
# Each application has its own directory with dedicated namespace
# Applications deployed after infrastructure (depends on infra-configs)
---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ./helmrepositories      # External Helm chart repositories
  - ./kube-system           # Cluster maintenance jobs (replicaset cleanup)
  - ./metrics-server        # Cluster-wide resource metrics
  - ./lubelogger            # Vehicle maintenance tracking
  - ./omada                 # TP-Link network controller
  - ./craftycontroller      # Minecraft server management (Helm)
  - ./atuin                 # Shell history sync server
  - ./borgwarehouse         # Borg backup repository manager
  - ./jellyfin              # Media streaming server
  - ./mealie                # Recipe management
  - ./audiobookshelf        # Audiobook and podcast server
  - ./manyfold              # 3D print file manager
  - ./kube-state-metrics    # Kubernetes object metrics for monitoring
  - ./loki                  # Log aggregation system
  - ./prometheus-sa         # Prometheus ServiceAccount for external scraping
  - ./apprise               # Multi-platform notification service
  - ./nocodb                # No-code database platform
  - ./paperless-ngx         # Document management system
  - ./cups                  # Print server with web management
  - ./jitsi                 # Video conferencing platform
  - ./ntfy                  # Push notification service
  - ./linkwarden            # Bookmark and link management
  - ./garage                # S3-compatible object storage
  - ./tdarr                 # Automated media transcoding and organization
  - ./dashy                 # Unified dashboard for all services
  - ./immich                # Photo and video management platform
  - ./romm                  # ROM collection manager
  - ./rustdesk              # Remote desktop solution
  - ./netbox                # Network source of truth and IPAM/DCIM platform
  - ./netbox/diode-agent    # Diode network discovery agent
  - ./spegel                # Peer-to-peer container image caching
  - ./booklore              # Self-hosted book library manager
#  - ./matrix               # Messaging and video calls (Synapse + Element)
  - ./storage               # Storage PVCs (applied last after namespaces exist)
